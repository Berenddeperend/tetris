parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"UzOB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.xhtml=void 0;var t="http://www.w3.org/1999/xhtml";exports.xhtml=t;var w={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};exports.default=w;
},{}],"OLJ5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./namespaces.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){var t=r+="",s=t.indexOf(":");return s>=0&&"xmlns"!==(t=r.slice(0,s))&&(r=r.slice(s+1)),e.default.hasOwnProperty(t)?{space:e.default[t],local:r}:r}
},{"./namespaces.js":"UzOB"}],"EIjt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=n(require("./namespace.js")),t=require("./namespaces.js");function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===t.xhtml&&n.documentElement.namespaceURI===t.xhtml?n.createElement(e):n.createElementNS(r,e)}}function u(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function a(t){var n=(0,e.default)(t);return(n.local?u:r)(n)}
},{"./namespace.js":"OLJ5","./namespaces.js":"UzOB"}],"xs2I":[function(require,module,exports) {
"use strict";function e(){}function t(t){return null==t?e:function(){return this.querySelector(t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"LRy5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_;var e=require("./index.js"),t=r(require("../selector.js"));function r(e){return e&&e.__esModule?e:{default:e}}function _(r){"function"!=typeof r&&(r=(0,t.default)(r));for(var _=this._groups,a=_.length,n=new Array(a),u=0;u<a;++u)for(var o,s,i=_[u],l=i.length,d=n[u]=new Array(l),f=0;f<l;++f)(o=i[f])&&(s=r.call(o,o.__data__,f,i))&&("__data__"in o&&(s.__data__=o.__data__),d[f]=s);return new e.Selection(n,this._parents)}
},{"./index.js":"jpDG","../selector.js":"xs2I"}],"TVIB":[function(require,module,exports) {
"use strict";function e(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"mHY5":[function(require,module,exports) {
"use strict";function e(){return[]}function t(t){return null==t?e:function(){return this.querySelectorAll(t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"ijGs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=require("./index.js"),r=u(require("../array.js")),t=u(require("../selectorAll.js"));function u(e){return e&&e.__esModule?e:{default:e}}function n(e){return function(){var t=e.apply(this,arguments);return null==t?[]:(0,r.default)(t)}}function l(r){r="function"==typeof r?n(r):(0,t.default)(r);for(var u=this._groups,l=u.length,o=[],a=[],s=0;s<l;++s)for(var i,f=u[s],c=f.length,d=0;d<c;++d)(i=f[d])&&(o.push(r.call(i,i.__data__,d,f)),a.push(i));return new e.Selection(o,a)}
},{"./index.js":"jpDG","../array.js":"TVIB","../selectorAll.js":"mHY5"}],"PkZe":[function(require,module,exports) {
"use strict";function t(t){return function(){return this.matches(t)}}function e(t){return function(e){return e.matches(t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,exports.childMatcher=e;
},{}],"o9VE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var t=require("../matcher.js"),e=Array.prototype.find;function r(t){return function(){return e.call(this.children,t)}}function n(){return this.firstElementChild}function i(e){return this.select(null==e?n:r("function"==typeof e?e:(0,t.childMatcher)(e)))}
},{"../matcher.js":"PkZe"}],"VY5c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var e=require("../matcher.js"),t=Array.prototype.filter;function r(){return this.children}function n(e){return function(){return t.call(this.children,e)}}function i(t){return this.selectAll(null==t?r:n("function"==typeof t?t:(0,e.childMatcher)(t)))}
},{"../matcher.js":"PkZe"}],"hrVj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=require("./index.js"),r=t(require("../matcher.js"));function t(e){return e&&e.__esModule?e:{default:e}}function n(t){"function"!=typeof t&&(t=(0,r.default)(t));for(var n=this._groups,u=n.length,a=new Array(u),o=0;o<u;++o)for(var s,i=n[o],l=i.length,f=a[o]=[],_=0;_<l;++_)(s=i[_])&&t.call(s,s.__data__,_,i)&&f.push(s);return new e.Selection(a,this._parents)}
},{"./index.js":"jpDG","../matcher.js":"PkZe"}],"NmjR":[function(require,module,exports) {
"use strict";function e(e){return new Array(e.length)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"wXei":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n,exports.EnterNode=s;var e=r(require("./sparse.js")),t=require("./index.js");function r(e){return e&&e.__esModule?e:{default:e}}function n(){return new t.Selection(this._enter||this._groups.map(e.default),this._parents)}function s(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}s.prototype={constructor:s,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};
},{"./sparse.js":"NmjR","./index.js":"jpDG"}],"H3qE":[function(require,module,exports) {
"use strict";function e(e){return function(){return e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"QmPF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=require("./index.js"),r=require("./enter.js"),t=a(require("../array.js")),n=a(require("../constant.js"));function a(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a,_,o){for(var l,u=0,f=t.length,i=o.length;u<i;++u)(l=t[u])?(l.__data__=o[u],a[u]=l):n[u]=new r.EnterNode(e,o[u]);for(;u<f;++u)(l=t[u])&&(_[u]=l)}function o(e,t,n,a,_,o,l){var u,f,i,s=new Map,d=t.length,c=o.length,h=new Array(d);for(u=0;u<d;++u)(f=t[u])&&(h[u]=i=l.call(f,f.__data__,u,t)+"",s.has(i)?_[u]=f:s.set(i,f));for(u=0;u<c;++u)i=l.call(e,o[u],u,o)+"",(f=s.get(i))?(a[u]=f,f.__data__=o[u],s.delete(i)):n[u]=new r.EnterNode(e,o[u]);for(u=0;u<d;++u)(f=t[u])&&s.get(h[u])===f&&(_[u]=f)}function l(e){return e.__data__}function u(r,a){if(!arguments.length)return Array.from(this,l);var u=a?o:_,f=this._parents,i=this._groups;"function"!=typeof r&&(r=(0,n.default)(r));for(var s=i.length,d=new Array(s),c=new Array(s),h=new Array(s),g=0;g<s;++g){var w=f[g],y=i[g],v=y.length,A=(0,t.default)(r.call(w,w&&w.__data__,g,f)),p=A.length,j=c[g]=new Array(p),x=d[g]=new Array(p);u(w,y,j,x,h[g]=new Array(v),A,a);for(var q,M,E=0,N=0;E<p;++E)if(q=j[E]){for(E>=N&&(N=E+1);!(M=x[N])&&++N<p;);q._next=M||null}}return(d=new e.Selection(d,f))._enter=c,d._exit=h,d}
},{"./index.js":"jpDG","./enter.js":"wXei","../array.js":"TVIB","../constant.js":"H3qE"}],"tchs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=r(require("./sparse.js")),t=require("./index.js");function r(e){return e&&e.__esModule?e:{default:e}}function s(){return new t.Selection(this._exit||this._groups.map(e.default),this._parents)}
},{"./sparse.js":"NmjR","./index.js":"jpDG"}],"oO6z":[function(require,module,exports) {
"use strict";function e(e,t,r){var n=this.enter(),o=this,u=this.exit();return n="function"==typeof e?e(n):n.append(e+""),null!=t&&(o=t(o)),null==r?u.remove():r(u),n&&o?n.merge(o).order():o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"i5nV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./index.js");function r(r){if(!(r instanceof e.Selection))throw new Error("invalid merge");for(var t=this._groups,n=r._groups,o=t.length,i=n.length,s=Math.min(o,i),a=new Array(o),l=0;l<s;++l)for(var u,f=t[l],h=n[l],c=f.length,g=a[l]=new Array(c),p=0;p<c;++p)(u=f[p]||h[p])&&(g[p]=u);for(;l<o;++l)a[l]=t[l];return new e.Selection(a,this._parents)}
},{"./index.js":"jpDG"}],"RepQ":[function(require,module,exports) {
"use strict";function e(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var o,n=e[t],s=n.length-1,i=n[s];--s>=0;)(o=n[s])&&(i&&4^o.compareDocumentPosition(i)&&i.parentNode.insertBefore(o,i),i=o);return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"D8yW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var r=require("./index.js");function e(e){function n(r,t){return r&&t?e(r.__data__,t.__data__):!r-!t}e||(e=t);for(var a=this._groups,o=a.length,u=new Array(o),_=0;_<o;++_){for(var s,i=a[_],d=i.length,f=u[_]=new Array(d),c=0;c<d;++c)(s=i[c])&&(f[c]=s);f.sort(n)}return new r.Selection(u,this._parents).order()}function t(r,e){return r<e?-1:r>e?1:r>=e?0:NaN}
},{"./index.js":"jpDG"}],"pbQ4":[function(require,module,exports) {
"use strict";function e(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"kO0T":[function(require,module,exports) {
"use strict";function e(){return Array.from(this)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"xFUP":[function(require,module,exports) {
"use strict";function e(){for(var e=this._groups,r=0,t=e.length;r<t;++r)for(var u=e[r],n=0,o=u.length;n<o;++n){var l=u[n];if(l)return l}return null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"w9fp":[function(require,module,exports) {
"use strict";function e(){let e=0;for(const t of this)++e;return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"UFOA":[function(require,module,exports) {
"use strict";function e(){return!this.node()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"q4XW":[function(require,module,exports) {
"use strict";function e(e){for(var t=this._groups,r=0,o=t.length;r<o;++r)for(var s,a=t[r],l=0,u=a.length;l<u;++l)(s=a[l])&&e.call(s,s.__data__,l,a);return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Tdf9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var t=e(require("../namespace.js"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){return function(){this.removeAttribute(t)}}function u(t){return function(){this.removeAttributeNS(t.space,t.local)}}function r(t,e){return function(){this.setAttribute(t,e)}}function i(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function o(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function c(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function l(e,l){var s=(0,t.default)(e);if(arguments.length<2){var a=this.node();return s.local?a.getAttributeNS(s.space,s.local):a.getAttribute(s)}return this.each((null==l?s.local?u:n:"function"==typeof l?s.local?c:o:s.local?i:r)(s,l))}
},{"../namespace.js":"OLJ5"}],"D1dR":[function(require,module,exports) {
"use strict";function e(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"VXjm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o,exports.styleValue=l;var e=t(require("../window.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){this.style.removeProperty(e)}}function n(e,t,r){return function(){this.style.setProperty(e,t,r)}}function u(e,t,r){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function o(e,t,o){return arguments.length>1?this.each((null==t?r:"function"==typeof t?u:n)(e,t,null==o?"":o)):l(this.node(),e)}function l(t,r){return t.style.getPropertyValue(r)||(0,e.default)(t).getComputedStyle(t,null).getPropertyValue(r)}
},{"../window.js":"D1dR"}],"QOWh":[function(require,module,exports) {
"use strict";function t(t){return function(){delete this[t]}}function e(t,e){return function(){this[t]=e}}function n(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function u(u,i){return arguments.length>1?this.each((null==i?t:"function"==typeof i?n:e)(u,i)):this.node()[u]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;
},{}],"rtNW":[function(require,module,exports) {
"use strict";function t(t){return t.trim().split(/^|\s+/)}function n(t){return t.classList||new e(t)}function e(n){this._node=n,this._names=t(n.getAttribute("class")||"")}function i(t,e){for(var i=n(t),s=-1,r=e.length;++s<r;)i.add(e[s])}function s(t,e){for(var i=n(t),s=-1,r=e.length;++s<r;)i.remove(e[s])}function r(t){return function(){i(this,t)}}function o(t){return function(){s(this,t)}}function u(t,n){return function(){(n.apply(this,arguments)?i:s)(this,t)}}function f(e,i){var s=t(e+"");if(arguments.length<2){for(var f=n(this.node()),c=-1,a=s.length;++c<a;)if(!f.contains(s[c]))return!1;return!0}return this.each(("function"==typeof i?u:i?r:o)(s,i))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f,e.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};
},{}],"hAJ3":[function(require,module,exports) {
"use strict";function t(){this.textContent=""}function n(t){return function(){this.textContent=t}}function e(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function o(o){return arguments.length?this.each(null==o?t:("function"==typeof o?e:n)(o)):this.node().textContent}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;
},{}],"FiSM":[function(require,module,exports) {
"use strict";function n(){this.innerHTML=""}function t(n){return function(){this.innerHTML=n}}function e(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}function i(i){return arguments.length?this.each(null==i?n:("function"==typeof i?e:t)(i)):this.node().innerHTML}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;
},{}],"gvi7":[function(require,module,exports) {
"use strict";function e(){this.nextSibling&&this.parentNode.appendChild(this)}function t(){return this.each(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"gv51":[function(require,module,exports) {
"use strict";function e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function t(){return this.each(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"efv1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("../creator.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r="function"==typeof t?t:(0,e.default)(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}
},{"../creator.js":"EIjt"}],"ILQF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=r(require("../creator.js")),t=r(require("../selector.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(){return null}function n(r,n){var l="function"==typeof r?r:(0,e.default)(r),o=null==n?u:"function"==typeof n?n:(0,t.default)(n);return this.select(function(){return this.insertBefore(l.apply(this,arguments),o.apply(this,arguments)||null)})}
},{"../creator.js":"EIjt","../selector.js":"xs2I"}],"quBB":[function(require,module,exports) {
"use strict";function e(){var e=this.parentNode;e&&e.removeChild(this)}function t(){return this.each(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"UpcG":[function(require,module,exports) {
"use strict";function e(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function t(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function n(n){return this.select(n?t:e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;
},{}],"fuQ8":[function(require,module,exports) {
"use strict";function e(e){return arguments.length?this.property("__data__",e):this.node().__data__}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"j4rF":[function(require,module,exports) {
"use strict";function e(e){return function(t){e.call(this,t,this.__data__)}}function t(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function n(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,o=t.length;i<o;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function i(t,n,i){return function(){var r,o=this.__on,s=e(n);if(o)for(var a=0,u=o.length;a<u;++a)if((r=o[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=i),void(r.value=n);this.addEventListener(t.type,s,i),r={type:t.type,name:t.name,value:n,listener:s,options:i},o?o.push(r):this.__on=[r]}}function r(e,r,o){var s,a,u=t(e+""),p=u.length;if(!(arguments.length<2)){for(f=r?i:n,s=0;s<p;++s)this.each(f(u[s],r,o));return this}var f=this.node().__on;if(f)for(var l,h=0,v=f.length;h<v;++h)for(s=0,l=f[h];s<p;++s)if((a=u[s]).type===l.type&&a.name===l.name)return l.value}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;
},{}],"enVu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var t=e(require("../window.js"));function e(t){return t&&t.__esModule?t:{default:t}}function n(e,n,u){var i=(0,t.default)(e),r=i.CustomEvent;"function"==typeof r?r=new r(n,u):(r=i.document.createEvent("Event"),u?(r.initEvent(n,u.bubbles,u.cancelable),r.detail=u.detail):r.initEvent(n,!1,!1)),e.dispatchEvent(r)}function u(t,e){return function(){return n(this,t,e)}}function i(t,e){return function(){return n(this,t,e.apply(this,arguments))}}function r(t,e){return this.each(("function"==typeof e?i:u)(t,e))}
},{"../window.js":"D1dR"}],"rmGH":[function(require,module,exports) {
"use strict";function*e(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var o,s=e[t],l=0,u=s.length;l<u;++l)(o=s[l])&&(yield o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"jpDG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Selection=F,exports.default=exports.root=void 0;var e=B(require("./select.js")),r=B(require("./selectAll.js")),t=B(require("./selectChild.js")),u=B(require("./selectChildren.js")),l=B(require("./filter.js")),s=B(require("./data.js")),i=B(require("./enter.js")),a=B(require("./exit.js")),d=B(require("./join.js")),o=B(require("./merge.js")),f=B(require("./order.js")),n=B(require("./sort.js")),j=B(require("./call.js")),q=B(require("./nodes.js")),c=B(require("./node.js")),p=B(require("./size.js")),m=B(require("./empty.js")),h=B(require("./each.js")),x=B(require("./attr.js")),y=B(require("./style.js")),v=B(require("./property.js")),_=B(require("./classed.js")),C=B(require("./text.js")),g=B(require("./html.js")),w=B(require("./raise.js")),b=B(require("./lower.js")),z=B(require("./append.js")),A=B(require("./insert.js")),M=B(require("./remove.js")),S=B(require("./clone.js")),E=B(require("./datum.js")),O=B(require("./on.js")),P=B(require("./dispatch.js")),k=B(require("./iterator.js"));function B(e){return e&&e.__esModule?e:{default:e}}var D=[null];function F(e,r){this._groups=e,this._parents=r}function G(){return new F([[document.documentElement]],D)}function H(){return this}exports.root=D,F.prototype=G.prototype={constructor:F,select:e.default,selectAll:r.default,selectChild:t.default,selectChildren:u.default,filter:l.default,data:s.default,enter:i.default,exit:a.default,join:d.default,merge:o.default,selection:H,order:f.default,sort:n.default,call:j.default,nodes:q.default,node:c.default,size:p.default,empty:m.default,each:h.default,attr:x.default,style:y.default,property:v.default,classed:_.default,text:C.default,html:g.default,raise:w.default,lower:b.default,append:z.default,insert:A.default,remove:M.default,clone:S.default,datum:E.default,on:O.default,dispatch:P.default,[Symbol.iterator]:k.default};var I=G;exports.default=I;
},{"./select.js":"LRy5","./selectAll.js":"ijGs","./selectChild.js":"o9VE","./selectChildren.js":"VY5c","./filter.js":"hrVj","./data.js":"QmPF","./enter.js":"wXei","./exit.js":"tchs","./join.js":"oO6z","./merge.js":"i5nV","./order.js":"RepQ","./sort.js":"D8yW","./call.js":"pbQ4","./nodes.js":"kO0T","./node.js":"xFUP","./size.js":"w9fp","./empty.js":"UFOA","./each.js":"q4XW","./attr.js":"Tdf9","./style.js":"VXjm","./property.js":"QOWh","./classed.js":"rtNW","./text.js":"hAJ3","./html.js":"FiSM","./raise.js":"gvi7","./lower.js":"gv51","./append.js":"efv1","./insert.js":"ILQF","./remove.js":"quBB","./clone.js":"UpcG","./datum.js":"fuQ8","./on.js":"j4rF","./dispatch.js":"enVu","./iterator.js":"rmGH"}],"iTOx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./selection/index.js");function t(t){return"string"==typeof t?new e.Selection([[document.querySelector(t)]],[document.documentElement]):new e.Selection([[t]],e.root)}
},{"./selection/index.js":"jpDG"}],"tmZM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./creator.js")),t=r(require("./select.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){return(0,t.default)((0,e.default)(r).call(document.documentElement))}
},{"./creator.js":"EIjt","./select.js":"iTOx"}],"JuPP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=0;function e(){return new r}function r(){this._="@"+(++t).toString(36)}r.prototype=e.prototype={constructor:r,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};
},{}],"mu9P":[function(require,module,exports) {
"use strict";function e(e){let t;for(;t=e.sourceEvent;)e=t;return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"SNxp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./sourceEvent.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r){if(t=(0,e.default)(t),void 0===r&&(r=t.currentTarget),r){var n=r.ownerSVGElement||r;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(r.getScreenCTM().inverse())).x,i.y]}if(r.getBoundingClientRect){var u=r.getBoundingClientRect();return[t.clientX-u.left-r.clientLeft,t.clientY-u.top-r.clientTop]}}return[t.pageX,t.pageY]}
},{"./sourceEvent.js":"mu9P"}],"mxYx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./pointer.js")),r=t(require("./sourceEvent.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u){return t.target&&(t=(0,r.default)(t),void 0===u&&(u=t.currentTarget),t=t.touches||[t]),Array.from(t,r=>(0,e.default)(r,u))}
},{"./pointer.js":"SNxp","./sourceEvent.js":"mu9P"}],"toE0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=r(require("./array.js")),t=require("./selection/index.js");function r(e){return e&&e.__esModule?e:{default:e}}function n(r){return"string"==typeof r?new t.Selection([document.querySelectorAll(r)],[document.documentElement]):new t.Selection([null==r?[]:(0,e.default)(r)],t.root)}
},{"./array.js":"TVIB","./selection/index.js":"jpDG"}],"lm1C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"create",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"creator",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"local",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"matcher",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"namespace",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"namespaces",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"pointer",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"pointers",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"select",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"selectAll",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"selection",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"selector",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"selectorAll",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"style",{enumerable:!0,get:function(){return d.styleValue}}),Object.defineProperty(exports,"window",{enumerable:!0,get:function(){return b.default}});var e=j(require("./create.js")),r=j(require("./creator.js")),t=j(require("./local.js")),n=j(require("./matcher.js")),u=j(require("./namespace.js")),o=j(require("./namespaces.js")),l=j(require("./pointer.js")),i=j(require("./pointers.js")),s=j(require("./select.js")),c=j(require("./selectAll.js")),a=j(require("./selection/index.js")),f=j(require("./selector.js")),p=j(require("./selectorAll.js")),d=require("./selection/style.js"),b=j(require("./window.js"));function j(e){return e&&e.__esModule?e:{default:e}}
},{"./create.js":"tmZM","./creator.js":"EIjt","./local.js":"JuPP","./matcher.js":"PkZe","./namespace.js":"OLJ5","./namespaces.js":"UzOB","./pointer.js":"SNxp","./pointers.js":"mxYx","./select.js":"iTOx","./selectAll.js":"toE0","./selection/index.js":"jpDG","./selector.js":"xs2I","./selectorAll.js":"mHY5","./selection/style.js":"VXjm","./window.js":"D1dR"}],"RYKK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.possibleForms=void 0,exports.possibleForms=[{color:"purple",shape:[[0,1,0],[1,1,1]]},{color:"green",shape:[[0,1,1],[1,1,0]]},{color:"red",shape:[[1,1,0],[0,1,1]]},{color:"yellow",shape:[[1,1],[1,1]]},{color:"dark-blue",shape:[[1,0,0],[1,1,1]]},{color:"orange",shape:[[0,0,1],[1,1,1]]},{color:"light-blue",shape:[[1,1,1,1]]}];
},{}],"UldJ":[function(require,module,exports) {
"use strict";var r=this&&this.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,o,i=t.call(r),u=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},e=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};function t(r){return e(new Set(r))}function n(r){return JSON.parse(JSON.stringify(r))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.cloneDeep=exports.uniq=void 0,exports.uniq=t,exports.cloneDeep=n;
},{}],"IyTV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("d3-selection"),e=require("./possibleForms"),i=require("./utils"),r=function(){function r(t,r){void 0===t&&(t=0),this.x=0,this.y=0,this.stage=r;var s=e.possibleForms[Math.floor(Math.random()*e.possibleForms.length)];this.shape=i.cloneDeep(s.shape),this.color=s.color,this.x=Math.floor((this.stage.gridWidth-this.shape[0].length)/2),this.id=t,this.init()}return r.prototype.rotate=function(){var t=this,e=function(e){return e.map(function(e,i){return e.map(function(e,r){return!e||0===t.stage.internalGrid[t.y+i][t.x+r]})}).flat().every(function(t){return t})},i=function(t){for(var e=t[0].length,i=t.length,r=[],s=0;s<e;s++)r.push([]);for(var n=0;n<i;n++)for(var o=0;o<e;o++)r[o][n]=t[n][o];return r.forEach(function(t){return t.reverse()}),r}(this.shape);if(e(i))return this.shape=i,this.redraw();var r=i[0].map(function(e,i){return i+t.x>=t.stage.gridWidth}).reduce(function(t,e){return e?++t:t},0);if(this.moveX(-r,!0),e(i))return this.shape=i,this.redraw();this.moveX(r,!0)},r.prototype.init=function(){this.d3Self=t.selectAll(".stage svg").insert("g",this.stage.gridOverBlocks?":first-child":null).attr("class","block "+this.color),this.redraw()},r.prototype.redraw=function(){var t=this;this.d3Self.selectAll("rect").remove(),this.d3Self.selectAll("g").remove(),this.shape.map(function(e,i){e.map(function(r,s){r&&e&&t.d3Self.append("g").append("rect").attr("width",t.stage.blockSize).attr("height",t.stage.blockSize).attr("x",s*t.stage.blockSize).attr("y",i*t.stage.blockSize).attr("class","atom")})}),this.updatePosition()},Object.defineProperty(r.prototype,"blockPositionIsValid",{get:function(){var t=this;return this.shape.map(function(e,i){return e.map(function(e,r){return!e||0===t.stage.internalGrid[t.y+i][t.x+r]})}).flat().every(function(t){return t})},enumerable:!1,configurable:!0}),r.shapeCollidesWithGrid=function(t,e,i,r){return t.map(function(t,s){return t.map(function(t,n){return!t||0===e.internalGrid[r+s][i+n]})}).flat().every(function(t){return t})},r.prototype.clearRow=function(t){var e=t-this.y,i=this.shape[0].length;this.shape.splice(e,1),this.shape.unshift(new Array(i).fill(0)),this.redraw()},r.prototype.moveDown=function(){this.y++,this.updatePosition()},r.prototype.moveX=function(t,e){void 0===e&&(e=!1),!e&&(this.x+t+this.shape[0].length>this.stage.gridWidth||this.x+t<0)||(this.x=this.x+t,this.updatePosition())},r.prototype.updatePosition=function(){this.d3Self.attr("transform","translate("+this.x*this.stage.blockSize+", "+this.y*this.stage.blockSize+")")},r}();exports.default=r;
},{"d3-selection":"lm1C","./possibleForms":"RYKK","./utils":"UldJ"}],"K0KY":[function(require,module,exports) {
var define;
var t;!function(e,i,n,r){"use strict";var s,o=["","webkit","Moz","MS","ms","o"],a=i.createElement("div"),h="function",u=Math.round,c=Math.abs,l=Date.now;function p(t,e,i){return setTimeout(y(t,i),e)}function f(t,e,i){return!!Array.isArray(t)&&(v(t,i[e],i),!0)}function v(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==r)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function d(t,i,n){var r="DEPRECATED METHOD: "+i+"\n"+n+" AT \n";return function(){var i=new Error("get-stack-trace"),n=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=e.console&&(e.console.warn||e.console.log);return s&&s.call(e.console,r,n),t.apply(this,arguments)}}s="function"!=typeof Object.assign?function(t){if(t===r||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==r&&null!==n)for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])}return e}:Object.assign;var m=d(function(t,e,i){for(var n=Object.keys(e),s=0;s<n.length;)(!i||i&&t[n[s]]===r)&&(t[n[s]]=e[n[s]]),s++;return t},"extend","Use `assign`."),g=d(function(t,e){return m(t,e,!0)},"merge","Use `assign`.");function T(t,e,i){var n,r=e.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,i&&s(n,i)}function y(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return typeof t==h?t.apply(e&&e[0]||r,e):t}function I(t,e){return t===r?e:t}function A(t,e,i){v(b(e),function(e){t.addEventListener(e,i,!1)})}function _(t,e,i){v(b(e),function(e){t.removeEventListener(e,i,!1)})}function C(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function S(t,e){return t.indexOf(e)>-1}function b(t){return t.trim().split(/\s+/g)}function P(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function D(t){return Array.prototype.slice.call(t,0)}function x(t,e,i){for(var n=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];P(r,o)<0&&n.push(t[s]),r[s]=o,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function w(t,e){for(var i,n,s=e[0].toUpperCase()+e.slice(1),a=0;a<o.length;){if((n=(i=o[a])?i+s:e)in t)return n;a++}return r}var O=1;function R(t){var i=t.ownerDocument||t;return i.defaultView||i.parentWindow||e}var M="ontouchstart"in e,z=w(e,"PointerEvent")!==r,N=M&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),X=25,Y=1,F=2,W=4,q=8,k=1,H=2,L=4,U=8,V=16,j=H|L,G=U|V,Z=j|G,B=["x","y"],$=["clientX","clientY"];function J(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&i.handler(e)},this.init()}function K(t,e,i){var n=i.pointers.length,s=i.changedPointers.length,o=e&Y&&n-s==0,a=e&(W|q)&&n-s==0;i.isFirst=!!o,i.isFinal=!!a,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,s=n.length;i.firstInput||(i.firstInput=Q(e));s>1&&!i.firstMultiple?i.firstMultiple=Q(e):1===s&&(i.firstMultiple=!1);var o=i.firstInput,a=i.firstMultiple,h=a?a.center:o.center,u=e.center=tt(n);e.timeStamp=l(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=rt(h,u),e.distance=nt(h,u),function(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};e.eventType!==Y&&s.eventType!==W||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y});e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}(i,e),e.offsetDirection=it(e.deltaX,e.deltaY);var p=et(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=p.x,e.overallVelocityY=p.y,e.overallVelocity=c(p.x)>c(p.y)?p.x:p.y,e.scale=a?(f=a.pointers,v=n,nt(v[0],v[1],$)/nt(f[0],f[1],$)):1,e.rotation=a?function(t,e){return rt(e[1],e[0],$)+rt(t[1],t[0],$)}(a.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,s,o,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=q&&(h>X||a.velocity===r)){var u=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,p=et(h,u,l);n=p.x,s=p.y,i=c(p.x)>c(p.y)?p.x:p.y,o=it(u,l),t.lastInterval=e}else i=a.velocity,n=a.velocityX,s=a.velocityY,o=a.direction;e.velocity=i,e.velocityX=n,e.velocityY=s,e.direction=o}(i,e);var f,v;var d=t.element;C(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function Q(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:u(t.pointers[i].clientX),clientY:u(t.pointers[i].clientY)},i++;return{timeStamp:l(),pointers:e,center:tt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function tt(t){var e=t.length;if(1===e)return{x:u(t[0].clientX),y:u(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:u(i/e),y:u(n/e)}}function et(t,e,i){return{x:e/t||0,y:i/t||0}}function it(t,e){return t===e?k:c(t)>=c(e)?t<0?H:L:e<0?U:V}function nt(t,e,i){i||(i=B);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function rt(t,e,i){i||(i=B);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}J.prototype={handler:function(){},init:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(R(this.element),this.evWin,this.domHandler)}};var st={mousedown:Y,mousemove:F,mouseup:W},ot="mousedown",at="mousemove mouseup";function ht(){this.evEl=ot,this.evWin=at,this.pressed=!1,J.apply(this,arguments)}T(ht,J,{handler:function(t){var e=st[t.type];e&Y&&0===t.button&&(this.pressed=!0),e&F&&1!==t.which&&(e=W),this.pressed&&(e&W&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var ut={pointerdown:Y,pointermove:F,pointerup:W,pointercancel:q,pointerout:q},ct={2:"touch",3:"pen",4:"mouse",5:"kinect"},lt="pointerdown",pt="pointermove pointerup pointercancel";function ft(){this.evEl=lt,this.evWin=pt,J.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}e.MSPointerEvent&&!e.PointerEvent&&(lt="MSPointerDown",pt="MSPointerMove MSPointerUp MSPointerCancel"),T(ft,J,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=ut[n],s=ct[t.pointerType]||t.pointerType,o="touch"==s,a=P(e,t.pointerId,"pointerId");r&Y&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):r&(W|q)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var vt={touchstart:Y,touchmove:F,touchend:W,touchcancel:q},dt="touchstart",mt="touchstart touchmove touchend touchcancel";function gt(){this.evTarget=dt,this.evWin=mt,this.started=!1,J.apply(this,arguments)}T(gt,J,{handler:function(t){var e=vt[t.type];if(e===Y&&(this.started=!0),this.started){var i=function(t,e){var i=D(t.touches),n=D(t.changedTouches);e&(W|q)&&(i=x(i.concat(n),"identifier",!0));return[i,n]}.call(this,t,e);e&(W|q)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var Tt={touchstart:Y,touchmove:F,touchend:W,touchcancel:q},yt="touchstart touchmove touchend touchcancel";function Et(){this.evTarget=yt,this.targetIds={},J.apply(this,arguments)}T(Et,J,{handler:function(t){var e=Tt[t.type],i=function(t,e){var i=D(t.touches),n=this.targetIds;if(e&(Y|F)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,s,o=D(t.changedTouches),a=[],h=this.target;if(s=i.filter(function(t){return C(t.target,h)}),e===Y)for(r=0;r<s.length;)n[s[r].identifier]=!0,r++;r=0;for(;r<o.length;)n[o[r].identifier]&&a.push(o[r]),e&(W|q)&&delete n[o[r].identifier],r++;if(!a.length)return;return[x(s.concat(a),"identifier",!0),a]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});var It=2500,At=25;function _t(){J.apply(this,arguments);var t=y(this.handler,this);this.touch=new Et(this.manager,t),this.mouse=new ht(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)},It)}}T(_t,J,{handler:function(t,e,i){var n="touch"==i.pointerType,r="mouse"==i.pointerType;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)(function(t,e){t&Y?(this.primaryTouch=e.changedPointers[0].identifier,Ct.call(this,e)):t&(W|q)&&Ct.call(this,e)}).call(this,e,i);else if(r&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=Math.abs(e-r.x),o=Math.abs(i-r.y);if(s<=At&&o<=At)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var St=w(a.style,"touchAction"),bt=St!==r,Pt="auto",Dt="manipulation",xt="none",wt="pan-x",Ot="pan-y",Rt=function(){if(!bt)return!1;var t={},i=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!i||e.CSS.supports("touch-action",n)}),t}();function Mt(t,e){this.manager=t,this.set(e)}Mt.prototype={set:function(t){"compute"==t&&(t=this.compute()),bt&&this.manager.element.style&&Rt[t]&&(this.manager.element.style[St]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(S(t,xt))return xt;var e=S(t,wt),i=S(t,Ot);if(e&&i)return xt;if(e||i)return e?wt:Ot;if(S(t,Dt))return Dt;return Pt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=S(n,xt)&&!Rt[xt],s=S(n,Ot)&&!Rt[Ot],o=S(n,wt)&&!Rt[wt];if(r){var a=1===t.pointers.length,h=t.distance<2,u=t.deltaTime<250;if(a&&h&&u)return}if(!o||!s)return r||s&&i&j||o&&i&G?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var zt=1,Nt=2,Xt=4,Yt=8,Ft=Yt,Wt=16;function qt(t){this.options=s({},this.defaults,t||{}),this.id=O++,this.manager=null,this.options.enable=I(this.options.enable,!0),this.state=zt,this.simultaneous={},this.requireFail=[]}function kt(t){return t&Wt?"cancel":t&Yt?"end":t&Xt?"move":t&Nt?"start":""}function Ht(t){return t==V?"down":t==U?"up":t==H?"left":t==L?"right":""}function Lt(t,e){var i=e.manager;return i?i.get(t):t}function Ut(){qt.apply(this,arguments)}function Vt(){Ut.apply(this,arguments),this.pX=null,this.pY=null}function jt(){Ut.apply(this,arguments)}function Gt(){qt.apply(this,arguments),this._timer=null,this._input=null}function Zt(){Ut.apply(this,arguments)}function Bt(){Ut.apply(this,arguments)}function $t(){qt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Jt(t,e){return(e=e||{}).recognizers=I(e.recognizers,Jt.defaults.preset),new Kt(t,e)}qt.prototype={defaults:{},set:function(t){return s(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(f(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Lt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return f(t,"dropRecognizeWith",this)?this:(t=Lt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(f(t,"requireFailure",this))return this;var e=this.requireFail;return-1===P(e,t=Lt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(f(t,"dropRequireFailure",this))return this;t=Lt(t,this);var e=P(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<Yt&&n(e.options.event+kt(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=Yt&&n(e.options.event+kt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|zt)))return!1;t++}return!0},recognize:function(t){var e=s({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Ft|Wt|32)&&(this.state=zt),this.state=this.process(e),this.state&(Nt|Xt|Yt|Wt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},T(Ut,qt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(Nt|Xt),r=this.attrTest(t);return n&&(i&q||!r)?e|Wt:n||r?i&W?e|Yt:e&Nt?e|Xt:Nt:32}}),T(Vt,Ut,{defaults:{event:"pan",threshold:10,pointers:1,direction:Z},getTouchAction:function(){var t=this.options.direction,e=[];return t&j&&e.push(Ot),t&G&&e.push(wt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&j?(r=0===s?k:s<0?H:L,i=s!=this.pX,n=Math.abs(t.deltaX)):(r=0===o?k:o<0?U:V,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return Ut.prototype.attrTest.call(this,t)&&(this.state&Nt||!(this.state&Nt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Ht(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),T(jt,Ut,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[xt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Nt)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),T(Gt,qt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Pt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(W|q)&&!r)this.reset();else if(t.eventType&Y)this.reset(),this._timer=p(function(){this.state=Ft,this.tryEmit()},e.time,this);else if(t.eventType&W)return Ft;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Ft&&(t&&t.eventType&W?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=l(),this.manager.emit(this.options.event,this._input)))}}),T(Zt,Ut,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[xt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Nt)}}),T(Bt,Ut,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:j|G,pointers:1},getTouchAction:function(){return Vt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(j|G)?e=t.overallVelocity:i&j?e=t.overallVelocityX:i&G&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&c(e)>this.options.velocity&&t.eventType&W},emit:function(t){var e=Ht(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),T($t,qt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Dt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&Y&&0===this.count)return this.failTimeout();if(n&&r&&i){if(t.eventType!=W)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||nt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&s?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=p(function(){this.state=Ft,this.tryEmit()},e.interval,this),Nt):Ft}return 32},failTimeout:function(){return this._timer=p(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ft&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Jt.VERSION="2.0.7",Jt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Zt,{enable:!1}],[jt,{enable:!1},["rotate"]],[Bt,{direction:j}],[Vt,{direction:j},["swipe"]],[$t],[$t,{event:"doubletap",taps:2},["tap"]],[Gt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Kt(t,e){var i;this.options=s({},Jt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(z?ft:N?Et:M?_t:ht))(i,K),this.touchAction=new Mt(this,this.options.touchAction),Qt(this,!0),v(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Qt(t,e){var i,n=t.element;n.style&&(v(t.options.cssProps,function(r,s){i=w(n.style,s),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}Kt.prototype={set:function(t){return s(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&Ft)&&(r=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&i.state&(Nt|Xt|Yt)&&(r=e.curRecognizer=i),s++}},get:function(t){if(t instanceof qt)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(f(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(f(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=P(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==r&&e!==r){var i=this.handlers;return v(b(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==r){var i=this.handlers;return v(b(t),function(t){e?i[t]&&i[t].splice(P(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Qt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(Jt,{INPUT_START:Y,INPUT_MOVE:F,INPUT_END:W,INPUT_CANCEL:q,STATE_POSSIBLE:zt,STATE_BEGAN:Nt,STATE_CHANGED:Xt,STATE_ENDED:Yt,STATE_RECOGNIZED:Ft,STATE_CANCELLED:Wt,STATE_FAILED:32,DIRECTION_NONE:k,DIRECTION_LEFT:H,DIRECTION_RIGHT:L,DIRECTION_UP:U,DIRECTION_DOWN:V,DIRECTION_HORIZONTAL:j,DIRECTION_VERTICAL:G,DIRECTION_ALL:Z,Manager:Kt,Input:J,TouchAction:Mt,TouchInput:Et,MouseInput:ht,PointerEventInput:ft,TouchMouseInput:_t,SingleTouchInput:gt,Recognizer:qt,AttrRecognizer:Ut,Tap:$t,Pan:Vt,Swipe:Bt,Pinch:jt,Rotate:Zt,Press:Gt,on:A,off:_,each:v,merge:g,extend:m,assign:s,inherit:T,bindFn:y,prefixed:w}),(void 0!==e?e:"undefined"!=typeof self?self:{}).Hammer=Jt,"function"==typeof t&&t.amd?t(function(){return Jt}):"undefined"!=typeof module&&module.exports?module.exports=Jt:e.Hammer=Jt}(window,document);
},{}],"SqKB":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("hammerjs"));console.log("gestures called");var n=function(){function t(t){var n=this;this.hasInstaFallen=!1,this.sensitivity=3,this.panCounter=0,this.dir="";var r=document.querySelector("body");new e.default(r,{}).on("panleft panright swipeup swipedown tap",function(e){switch(console.log(e),e.type){case"panleft":return t.controls.left();case"panright":return t.controls.right();case"swipedown":return t.controls.down();case"swipeup":return t.controls.instaFall();case"tap":return t.controls.rotate();case"panend":return n.hasInstaFallen=!1}})}return t.prototype.throttledFn=function(t,e){if(this.dir===t?this.panCounter++:(this.dir=t,this.panCounter=0),this.panCounter%this.sensitivity==0)return e()},t.prototype.destroy=function(){},t}();exports.default=n;
},{"hammerjs":"K0KY"}],"j9X7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t){this.stage=t,this.onKeyDown=function(e){switch(e.code){case"ArrowRight":return t.controls.right();case"ArrowLeft":return t.controls.left();case"ArrowDown":return t.controls.down();case"ArrowUp":return t.controls.instaFall();case"Space":return t.controls.rotate()}}.bind(this.stage),this.init()}return t.prototype.init=function(){document.addEventListener("keydown",this.onKeyDown)},t.prototype.destroy=function(){console.log("removing controls"),document.removeEventListener("keydown",this.onKeyDown)},t}();exports.default=t;
},{}],"Vp1G":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("./block")),i=require("d3-selection"),r=require("./utils"),n=require("./tetris"),o=t(require("./gestureControls")),s=t(require("./keyboardControls")),l=function(){function t(t){var i=this,r=void 0===t?{}:t,n=r.width,o=void 0===n?10:n,s=r.height,l=void 0===s?20:s,a=r.blockSize,c=void 0===a?24:a,d=r.gridGutterSize,u=void 0===d?1:d,h=r.gridOverBlocks,p=void 0===h||h;this.settledBlocks=[],this.queue=[],this.blockIndex=1,this.isGameOver=!1,this.clearedLines=0,this.gridWidth=o,this.gridHeight=l,this.blockSize=c,this.gridGutterSize=u,this.gridOverBlocks=p,this.initUI(),this.initializeInternalGrid(),this.initKeyboardControls(),this.activeBlock=new e.default(this.blockIndex,this),this.tickInterval=window.setInterval(function(){i.tick()},1e3)}return t.prototype.initializeInternalGrid=function(){this.internalGrid=[];for(var t=0;t<this.gridHeight;t++){this.internalGrid.push([]);for(var e=0;e<this.gridWidth;e++)this.internalGrid[t][e]=0}},Object.defineProperty(t.prototype,"controls",{get:function(){var t=this;return{left:function(){t.blockWillCollideXOnNextTick(t.activeBlock,-1)||t.activeBlock.moveX(-1)},right:function(){t.blockWillCollideXOnNextTick(t.activeBlock,1)||t.activeBlock.moveX(1)},down:function(){t.tick()},instaFall:function(){for(;!t.blockWillCollideYOnNextTick(t.activeBlock);)t.activeBlock.moveDown();clearInterval(t.tickInterval),t.tickInterval=window.setInterval(function(){t.tick()},1e3),t.finishBlock(t.activeBlock)},rotate:function(){t.activeBlock.rotate()}}},enumerable:!1,configurable:!0}),t.prototype.initKeyboardControls=function(){this.keyboardControls=new s.default(this)},t.prototype.initGestures=function(){this.gestureControls=new o.default(this)},t.prototype.tick=function(){if(this.isGameOver)return this.beforeDestroy(),void n.setGameState("gameOver");this.blockWillCollideYOnNextTick(this.activeBlock)?this.finishBlock(this.activeBlock):this.activeBlock.moveDown()},t.prototype.finishBlock=function(t){var i=this;return this.isGameOver?(this.beforeDestroy(),n.setGameState("gameOver")):(this.settledBlocks.push(t),this.placeBlockInGrid(t),this.activeBlock=new e.default(++this.blockIndex,this),this.activeBlock.blockPositionIsValid?void this.completedRows.map(function(t){i.clearedLines++,i.updateScore();var e=r.uniq(i.internalGrid[t]),n=r.uniq(i.internalGrid.filter(function(e,i){return i<t}).flat().filter(function(t){return t>0}).filter(function(t){return!e.includes(t)}));i.settledBlocks.filter(function(t){return e.includes(t.id)}).forEach(function(e){return e.clearRow(t)}),n.forEach(function(t){return i.settledBlocks[t-1].moveDown()}),i.internalGrid.splice(t,1),i.internalGrid.unshift(new Array(i.gridWidth).fill(0))}):(this.isGameOver=!0,this.beforeDestroy(),n.setGameState("gameOver")))},t.prototype.updateScore=function(){i.select(".score").remove();var t=this.d3UI.append("div").attr("class","score");t.append("div").attr("class","label").text("Score"),t.append("div").attr("class","value").text(this.score)},t.prototype.placeBlockInGrid=function(t){var e=this;t.shape.map(function(i,r){i.map(function(n,o){n&&i&&(e.internalGrid[r+t.y][o+t.x]=t.id)})})},t.prototype.blockWillCollideYOnNextTick=function(t){var e=this;return t.shape.map(function(i,r){return i.map(function(i,n){return!!i&&(t.y+r+1>=e.gridHeight||e.internalGrid[t.y+r+1]&&e.internalGrid[t.y+r+1][t.x+n])})}).flat().some(function(t){return t})},t.prototype.blockWillCollideXOnNextTick=function(t,e){var i=this;return t.shape.map(function(r,n){return r.map(function(r,o){return!!r&&(i.internalGrid[t.y+n]&&i.internalGrid[t.y+n][t.x+o+e])})}).flat().some(function(t){return t})},Object.defineProperty(t.prototype,"completedRows",{get:function(){return this.internalGrid.reduce(function(t,e,i){return e.every(function(t){return t})&&t.push(i),t},[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"score",{get:function(){return this.clearedLines},enumerable:!1,configurable:!0}),t.prototype.initUI=function(){this.d3Stage=i.selectAll("body").append("div").attr("class","stage"),this.d3Stage.append("svg"),this.d3UI=i.select("body").append("div").attr("class","ui"),this.drawGridLines(),this.updateScore()},t.prototype.drawGridLines=function(t,e,r){void 0===t&&(t=this.gridWidth),void 0===e&&(e=this.gridHeight),void 0===r&&(r=this.blockSize),document.documentElement.style.setProperty("--stage-height",e*r+"px"),document.documentElement.style.setProperty("--stage-width",t*r+"px");for(var n=i.selectAll(".stage svg").attr("style","width: "+t*r+"px; height: "+e*r+"px").append("g").attr("class","gridlines").attr("width",t*r).attr("height",e*r).attr("style","stroke-width: "+this.gridGutterSize+"px").attr("viewBox","0 0 "+t*r+" "+e*r),o=n.append("g").attr("class","rows"),s=n.append("g").attr("class","columns"),l=0;l<e+1;l++)o.append("line").attr("x1",0).attr("x2",t*r).attr("y1",l*r).attr("y2",l*r);for(l=0;l<t+1;l++)s.append("line").attr("y1",0).attr("y2",e*r).attr("x1",l*r).attr("x2",l*r)},t.prototype.beforeDestroy=function(){var t,e;clearInterval(this.tickInterval),null===(t=this.keyboardControls)||void 0===t||t.destroy(),null===(e=this.gestureControls)||void 0===e||e.destroy()},t}();exports.default=l;
},{"./block":"IyTV","d3-selection":"lm1C","./utils":"UldJ","./tetris":"rDTz","./gestureControls":"SqKB","./keyboardControls":"j9X7"}],"Wfv0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("d3-selection"),e=require("./tetris"),a=function(){return function(){var a=t.select("body").append("div").attr("class","splash");a.append("div").attr("class","title").text("Tetris"),a.append("div").attr("class","subtitle").text("By Berend"),a.append("div").attr("class","begin").selectAll("span").data("press space to start".split("")).enter().append("span").attr("class","letter").attr("style",function(t,e){return"animation-delay: -"+2*e+"s"}).text(function(t){return t}),a.append("a").attr("class","social").attr("href","https://github.com/Berenddeperend/tetris").attr("target","_blank").text("Github"),window.addEventListener("keydown",function a(s){"Space"===s.code&&(window.removeEventListener("keydown",a),t.select(".splash").remove(),e.setGameState("playing"))})}}();exports.default=a;
},{"d3-selection":"lm1C","./tetris":"rDTz"}],"tKgm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("d3-selection"),t=require("./tetris"),r=function(){return function(){e.select(".stage").attr("class","stage is-game-over").append("div").attr("class","game-over").text("Game over"),window.addEventListener("keydown",function r(s){"Space"===s.code&&(window.removeEventListener("keydown",r),e.select(".stage").remove(),e.select(".game-over").remove(),e.select(".score").remove(),t.setGameState("playing"))})}}();exports.default=r;
},{"d3-selection":"lm1C","./tetris":"rDTz"}],"rDTz":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.setGameState=void 0;var t=e(require("./stage")),r=e(require("./splash")),a=e(require("./gameOver"));function s(e){switch(e=e){case"splash":return new r.default;case"playing":return new t.default({width:10});case"gameOver":return new a.default}}exports.setGameState=s,s("splash");
},{"./stage":"Vp1G","./splash":"Wfv0","./gameOver":"tKgm"}]},{},["rDTz"], null)
//# sourceMappingURL=/tetris/tetris.3cd23464.js.map